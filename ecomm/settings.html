<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Account Settings - Grostore</title>
      <link rel="icon shortcut" href="https://jaiinfo.tech/logo/logo_only.png">
      <link rel="stylesheet" href="style.css">
      <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
      <!-- Bootstrap Icons CDN -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
   </head>
   <body>
      <!-- Overlay for mobile menus -->
      <div class="mobile-menu-overlay" id="mobile-menu-overlay"></div>
      <!-- Top Bar -->
      <div class="top-bar">
         <div class="container welcome-bar">
            <p>Welcome to our Organic store</p>
            <div class="top-bar-info">
               <span><i class="bi bi-envelope"></i> groshop@support.com</span>
               <span><i class="bi bi-geo-alt"></i> Washington, New York, USA - 254230</span>
               <div class="dropdown">
                  <span><i class="bi bi-globe"></i> English <i class="fas fa-chevron-down"></i></span>
                  <div class="dropdown-content">
                     <a href="#">বাংলা</a>
                     <a href="#">Español</a>
                  </div>
               </div>
               <div class="dropdown">
                  <span><i class="bi bi-currency-rupee"></i> USD <i class="fas fa-chevron-down"></i></span>
                  <div class="dropdown-content">
                     <a href="#">EUR</a>
                     <a href="#">BDT</a>
                  </div>
               </div>
               <a href="#" class="dark-mode-toggle"><i class="fas fa-moon"></i> Dark</a>
            </div>
         </div>
      </div>
          <!-- Header Main -->
      <header class="header-main">
         <div class="container">
                <a href="index.html">
                    <div class="logo">
                        <img src="https://jaiinfo.tech/logo/logo_only.png" alt="Grostore Logo">
                        <h1>Grostore</h1>
                    </div>
                 </a>

            <nav class="main-nav" id="main-nav">
               <div class="nav-close-btn desktop-hidden" id="main-nav-close">
                  <i class="fas fa-times"></i>
               </div>
               <div class="mobile-menu-logo">
                  <img src="https://jaiinfo.tech/logo/logo_only.png" alt="Logo">
               </div>
               <a href="order-list.html">Orders</a>
               <a href="wishlist.html">Wishlist</a>
               <a href="settings.html">Settings</a>
               <a href="#">pages</a>
            </nav>
            <div class="header-actions">
               <!-- <a href="#" class="mobile-hidden-icon"><i class="bi bi-search"></i></a> -->
               <a href="wishlist.html" class="mobile-hidden-icon"><i class="bi bi-heart"></i></a>               
               <a href="order-list.html"class="mobile-hidden-icon"><i class="bi bi-bag"></i></a>
               <a href="order-list.html"class="mobile-hidden-icon"><i class="bi bi-gear"></i></a>
               <!-- <span class="mobile-hidden-icon"><i class="bi bi-telephone"></i> +80 157 058 4567</span> -->
                <button class="login-btn"><a href="login.html"><i class="bi bi-box-arrow-in-left"></i>Login</a></button>
               <button class="hamburger-menu desktop-hidden" id="hamburger-menu">
               <i class="bi bi-list"></i>
               </button>
            </div>
         </div>
      </header>
      <!-- Main Content Area for Settings -->
      <main class="settings-page-content">
         <div class="container">
            <h2>Account Settings</h2>
            <div class="settings-grid">
               <!-- Settings Sidebar Navigation -->
               <aside class="settings-nav">
                  <ul>
                     <li><a href="#edit-profile-section" class="settings-nav-link active" data-section="edit-profile"><i class="fas fa-user-edit"></i> Edit Profile</a></li>
                     <li><a href="#addresses-section" class="settings-nav-link" data-section="addresses"><i class="fas fa-map-marker-alt"></i> My Addresses</a></li>
                     <li><a href="#feedback-section" class="settings-nav-link" data-section="feedback"><i class="fas fa-comment-alt"></i> Send Feedback</a></li>
                     <li><a href="#account-actions-section" class="settings-nav-link" data-section="account-actions"><i class="fas fa-cog"></i> Account Actions</a></li>
                  </ul>
               </aside>
               <!-- Settings Details Content -->
               <section class="settings-details">
                  <!-- Edit Profile Section -->
                  <div id="edit-profile-section" class="settings-section active">
                     <h3>Edit Your Profile</h3>
                     <form action="#" method="POST">
                        <div class="form-group">
                           <label for="profile-name">Full Name</label>
                           <input type="text" id="profile-name" name="name" value="John Doe" required>
                        </div>
                        <div class="form-group">
                           <label for="profile-email">Email Address</label>
                           <input type="email" id="profile-email" name="email" value="john.doe@example.com" readonly>
                           <small>Email cannot be changed directly here. Contact support for changes.</small>
                        </div>
                        <div class="form-group">
                           <label for="profile-phone">Phone Number</label>
                           <input type="tel" id="profile-phone" name="phone" value="+1 (555) 123-4567">
                        </div>
                        <div class="form-group">
                           <label for="profile-bio">Bio / About Me</label>
                           <textarea id="profile-bio" name="bio" rows="4" placeholder="Tell us a little about yourself...">A loyal customer since 2020, passionate about organic produce.</textarea>
                        </div>
                        <button type="submit" class="settings-save-btn auth-btn">Save Profile Changes</button>
                     </form>
                  </div>
                  <!-- My Addresses Section -->
                  <div id="addresses-section" class="settings-section">
                     <h3>My Addresses</h3>
                     <div id="address-list">
                        <!-- Existing Address 1 -->
                        <div class="address-card">
                           <h4>Home Address (Default)</h4>
                           <p>123 Organic Lane, Green City, GC 90210</p>
                           <p>Phone: +1 (555) 987-6543</p>
                           <div class="address-actions">
                              <button class="edit-address-btn"><i class="fas fa-edit"></i> Edit</button>
                              <button class="delete-address-btn"><i class="fas fa-trash-alt"></i> Delete</button>
                           </div>
                        </div>
                        <!-- Existing Address 2 -->
                        <div class="address-card">
                           <h4>Work Address</h4>
                           <p>456 Business Park, Metro City, MC 10001</p>
                           <p>Phone: +1 (555) 234-5678</p>
                           <div class="address-actions">
                              <button class="edit-address-btn"><i class="fas fa-edit"></i> Edit</button>
                              <button class="delete-address-btn"><i class="fas fa-trash-alt"></i> Delete</button>
                              <button class="set-default-btn"><i class="fas fa-check-circle"></i> Set as Default</button>
                           </div>
                        </div>
                     </div>
                     <button id="add-new-address-btn" class="auth-btn add-new-btn"><i class="fas fa-plus-circle"></i> Add New Address</button>

                     <div id="address-form-container" style="display:none;">
                        <h3>Add/Edit Address</h3>
                        <form id="address-form">
                           <input type="hidden" id="address-id">
                           <div class="form-group">
                              <label for="address-title">Address Title (e.g., Home, Work)</label>
                              <input type="text" id="address-title" placeholder="e.g., Home, Work" required>
                           </div>
                           <div class="form-group">
                              <label for="address-line1">Address Line 1</label>
                              <input type="text" id="address-line1" placeholder="Street address, P.O. box, company name" required>
                           </div>
                           <div class="form-group">
                              <label for="address-line2">Address Line 2 (Optional)</label>
                              <input type="text" id="address-line2" placeholder="Apartment, suite, unit, building, floor, etc.">
                           </div>
                           <div class="form-group">
                              <label for="address-city">City</label>
                              <input type="text" id="address-city" required>
                           </div>
                           <div class="form-group">
                              <label for="address-state">State / Province / Region</label>
                              <input type="text" id="address-state" required>
                           </div>
                           <div class="form-group">
                              <label for="address-zip">Zip / Postal Code</label>
                              <input type="text" id="address-zip" required>
                           </div>
                           <div class="form-group">
                              <label for="address-country">Country</label>
                              <input type="text" id="address-country" value="USA" required>
                           </div>
                           <div class="form-group">
                              <label for="address-phone">Phone Number</label>
                              <input type="tel" id="address-phone" placeholder="e.g., +1 (555) 123-4567">
                           </div>
                           <div class="checkbox-group form-group">
                              <input type="checkbox" id="address-default">
                              <label for="address-default">Set as default address</label>
                           </div>
                           <button type="submit" class="auth-btn settings-save-btn">Save Address</button>
                           <button type="button" class="cancel-address-btn auth-btn secondary-btn">Cancel</button>
                        </form>
                     </div>
                  </div>
                  <!-- Send Feedback Section -->
                  <div id="feedback-section" class="settings-section">
                     <h3>Send Us Your Feedback</h3>
                     <p>We'd love to hear your thoughts, suggestions, or any issues you've encountered. Your feedback helps us improve!</p>
                     <form action="#" method="POST">
                        <div class="form-group">
                           <label for="feedback-subject">Subject</label>
                           <input type="text" id="feedback-subject" name="subject" placeholder="e.g., Website bug, Feature request" required>
                        </div>
                        <div class="form-group">
                           <label for="feedback-message">Your Message</label>
                           <textarea id="feedback-message" name="message" rows="8" placeholder="Type your detailed feedback here..." required></textarea>
                        </div>
                        <button type="submit" class="auth-btn settings-save-btn">Submit Feedback</button>
                     </form>
                  </div>
                  <!-- Account Actions Section -->
                  <div id="account-actions-section" class="settings-section">
                     <h3>Other Account Actions</h3>
                     <div class="action-card">
                        <h4>Change Your Password</h4>
                        <p>Keep your account secure by regularly updating your password.</p>
                        <a href="#" class="auth-btn">Change Password</a>
                     </div>
                     <div class="action-card">
                        <h4>Manage Payment Methods</h4>
                        <p>Add, edit, or remove your saved credit and debit cards.</p>
                        <a href="#" class="auth-btn">Payment Settings</a>
                     </div>
                     <div class="action-card danger-action">
                        <h4>Delete Your Account</h4>
                        <p>Permanently delete your account and all associated data. This action cannot be undone.</p>
                        <button class="delete-account-btn auth-btn secondary-btn"><i class="fas fa-exclamation-triangle"></i> Delete Account</button>
                     </div>
                     <div class="action-card">
                        <h4>Logout</h4>
                        <p>Sign out from your account for security reasons, especially on shared devices.</p>
                        <a href="login.html" class="auth-btn">Logout Now</a>
                     </div>
                  </div>
               </section>
            </div>
         </div>
      </main>
      <!-- Footer Newsletter -->
      <section class="footer-newsletter">
         <div class="container">
            <p>Subscribe to the G-Shop <span class="highlight">New Arrivals</span> & Other Information.</p>
            <div class="newsletter-form">
               <input type="email" placeholder="Enter Email Address">
               <button>Subscribe</button>
            </div>
         </div>
      </section>
      <!-- Footer Links -->
      <footer class="footer-main">
         <div class="container footer-links-grid">
            <div class="footer-column category">
               <h3>Category</h3>
               <ul>
                  <li><a href="#">Testimonials</a></li>
                  <li><a href="#">Contact</a></li>
                  <li><a href="#">Location & Working Hours</a></li>
                  <li><a href="#">Our Guarantee</a></li>
                  <li><a href="#">Track Your Order</a></li>
                  <li><a href="#">Help Page</a></li>
               </ul>
            </div>
            <div class="footer-column">
               <h3>Quick Links</h3>
               <ul>
                  <li><a href="#">Your Account</a></li>
                  <li><a href="#">Returns & Exchanges</a></li>
                  <li><a href="#">Return Center</a></li>
                  <li><a href="#">Purchase History</a></li>
                  <li><a href="#">Latest News Blog</a></li>
                  <li><a href="#">Shipping & Delivery</a></li>
               </ul>
            </div>
            <div class="footer-column">
               <h3>Contact Us</h3>
               <ul>
                  <li><a href="#">Testimonials</a></li>
                  <li><a href="#">Contact</a></li>
                  <li><a href="#">Location & Working Hours</a></li>
                  <li><a href="#">Our Guarantee</a></li>
                  <li><a href="#">Track Your Order</a></li>
                  <li><a href="#">Help Page</a></li>
               </ul>
            </div>
            <div class="footer-column">
               <h3>Customer Support</h3>
               <ul>
                  <li><a href="#">Your Account</a></li>
                  <li><a href="#">Returns & Exchanges</a></li>
                  <li><a href="#">Return Center</a></li>
                  <li><a href="#">Purchase History</a></li>
                  <li><a href="#">Latest News Blog</a></li>
                  <li><a href="#">Shipping & Delivery</a></li>
               </ul>
            </div>
         </div>
         <p class="website-link">www.Jaiinfo.com</p>
      </footer>
      <!-- Bottom Footer -->
      <div class="bottom-footer">
         <div class="container">
            <p>&copy; All rights reserved Made by <a href="javascript:void(0);">JAI</a></p>
            <div class="footer-right">
               <div class="logo">
                  <img src="https://jaiinfo.tech/logo/logo_only.png" alt="Logo">
                  <h1>Grostore</h1>
               </div>
               <div class="payment-icons">
                  <i class="fab fa-cc-visa"></i>
                  <i class="fab fa-cc-mastercard"></i>
                  <i class="fab fa-cc-amazon-pay"></i>
                  <i class="fab fa-cc-paypal"></i>
               </div>
            </div>
         </div>
      </div>
      <!-- Chat Bot Icon -->
<div class="chat-icon-wrapper" id="chat-icon-wrapper">
    <button class="chat-icon" id="chat-icon" aria-label="Open chat with Grostore Support">
        <i class="fas fa-comments"></i>
    </button>
</div>

<!-- Chat Bot Window -->
<div class="chat-window" id="chat-window" role="dialog" aria-modal="true" aria-labelledby="chat-header-title" aria-hidden="true">
    <div class="chat-header">
        <h3 id="chat-header-title">Grostore AI Support</h3>
        <button class="chat-close-btn" id="chat-close-btn" aria-label="Close chat window">&times;</button>
    </div>
    <div class="chat-messages" id="chat-messages" aria-live="polite">
        <!-- Initial bot message will be injected here by JS -->
    </div>
    <div class="chat-input-area">
        <input type="text" id="user-input" placeholder="Type your message..." aria-label="Type your message">
        <button id="send-button" aria-label="Send message"><i class="fas fa-paper-plane"></i></button>
    </div>
</div>
      <script>
         // Mobile Menu Toggle (Reused from other pages)
         const hamburgerMenu = document.getElementById('hamburger-menu');
         const mainNav = document.getElementById('main-nav');
         const mainNavCloseBtn = document.getElementById('main-nav-close');
         const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
         
         function updateBodyScroll() {
             const isAnyMenuOpen = mainNav.classList.contains('active');
             document.body.classList.toggle('no-scroll', isAnyMenuOpen);
             mobileMenuOverlay.classList.toggle('active', isAnyMenuOpen);
         }
         
         function toggleMainMenu() {
             mainNav.classList.toggle('active');
             updateBodyScroll();
         }
         
         hamburgerMenu.addEventListener('click', toggleMainMenu);
         mainNavCloseBtn.addEventListener('click', toggleMainMenu);
         
         mobileMenuOverlay.addEventListener('click', () => {
             if (mainNav.classList.contains('active')) {
                 toggleMainMenu();
             }
         });
         
         // --- Settings Page Navigation (Tab-like functionality) ---
         const settingsNavLinks = document.querySelectorAll('.settings-nav-link');
         const settingsSections = document.querySelectorAll('.settings-section');
         const addAddressBtn = document.getElementById('add-new-address-btn');
         const addressFormContainer = document.getElementById('address-form-container');
         const addressForm = document.getElementById('address-form');
         const cancelAddressBtn = document.querySelector('.cancel-address-btn');
         
         function showSection(sectionId) {
             settingsSections.forEach(section => {
                 section.classList.remove('active');
                 section.style.display = 'none'; // Hide all sections
             });
             document.getElementById(sectionId).classList.add('active');
             document.getElementById(sectionId).style.display = 'block'; // Show the active section
         
             settingsNavLinks.forEach(link => {
                 if (link.dataset.section === sectionId.replace('-section', '')) {
                     link.classList.add('active');
                 } else {
                     link.classList.remove('active');
                 }
             });
             // Hide address form when switching sections, unless explicitly in addresses section and editing
             if (sectionId !== 'addresses-section') {
                 addressFormContainer.style.display = 'none';
                 addAddressBtn.style.display = 'block';
                 addressForm.reset();
             }
         }
         
         settingsNavLinks.forEach(link => {
             link.addEventListener('click', (e) => {
                 e.preventDefault();
                 const sectionId = link.getAttribute('href').substring(1); // Get href without '#'
                 showSection(sectionId);
             });
         });
         
         // --- Address Management ---
         addAddressBtn.addEventListener('click', () => {
             addressFormContainer.style.display = 'block';
             addAddressBtn.style.display = 'none';
             addressForm.reset(); // Clear form for new address
             document.getElementById('address-id').value = ''; // No ID for new address
             document.querySelector('#address-form h3').textContent = 'Add New Address';
         });
         
         cancelAddressBtn.addEventListener('click', () => {
             addressFormContainer.style.display = 'none';
             addAddressBtn.style.display = 'block';
             addressForm.reset();
         });
         
         document.querySelectorAll('.edit-address-btn').forEach(button => {
             button.addEventListener('click', (e) => {
                 // In a real app, you'd fetch address data by ID and populate the form
                 // For now, let's simulate populating for the first address
                 if (e.target.closest('.address-card').querySelector('h4').textContent.includes('Home Address')) {
                     document.getElementById('address-id').value = 'addr1'; // Simulate ID
                     document.getElementById('address-title').value = 'Home Address';
                     document.getElementById('address-line1').value = '123 Organic Lane';
                     document.getElementById('address-line2').value = '';
                     document.getElementById('address-city').value = 'Green City';
                     document.getElementById('address-state').value = 'GC';
                     document.getElementById('address-zip').value = '90210';
                     document.getElementById('address-country').value = 'USA';
                     document.getElementById('address-phone').value = '+1 (555) 987-6543';
                     document.getElementById('address-default').checked = true;
                 } else {
                     // Simulate for second address
                     document.getElementById('address-id').value = 'addr2';
                     document.getElementById('address-title').value = 'Work Address';
                     document.getElementById('address-line1').value = '456 Business Park';
                     document.getElementById('address-line2').value = 'Suite 100'; // Example with line2
                     document.getElementById('address-city').value = 'Metro City';
                     document.getElementById('address-state').value = 'MC';
                     document.getElementById('address-zip').value = '10001';
                     document.getElementById('address-country').value = 'USA';
                     document.getElementById('address-phone').value = '+1 (555) 234-5678';
                     document.getElementById('address-default').checked = false;
                 }
                 document.querySelector('#address-form h3').textContent = 'Edit Address';
                 addressFormContainer.style.display = 'block';
                 addAddressBtn.style.display = 'none';
             });
         });
         
         document.querySelectorAll('.delete-address-btn').forEach(button => {
             button.addEventListener('click', () => {
                 if (confirm('Are you sure you want to delete this address?')) {
                     button.closest('.address-card').remove();
                     alert('Address deleted!');
                     // In real app, send delete request to server
                 }
             });
         });
         
         document.querySelectorAll('.set-default-btn').forEach(button => {
             button.addEventListener('click', () => {
                 // Remove default from current, add to new one
                 document.querySelector('.address-card h4').textContent = document.querySelector('.address-card h4').textContent.replace(' (Default)', '');
                 button.closest('.address-card').querySelector('h4').textContent += ' (Default)';
                 alert('Default address updated!');
                 // In real app, send update request to server
             });
         });
         
         addressForm.addEventListener('submit', (e) => {
             e.preventDefault();
             const addressId = document.getElementById('address-id').value;
             const addressTitle = document.getElementById('address-title').value;
             // ... gather all form data
             
             if (addressId) {
                 alert(`Address "${addressTitle}" updated! (ID: ${addressId})`);
             } else {
                 alert(`New address "${addressTitle}" added!`);
             }
             // In real app, send data to server via AJAX
             addressFormContainer.style.display = 'none';
             addAddressBtn.style.display = 'block';
             addressForm.reset();
             // You'd typically re-render the address list here
             showSection('addresses-section'); // Re-show the addresses list
         });
         
         // --- Feedback Form Submission ---
         document.querySelector('#feedback-section form').addEventListener('submit', (e) => {
             e.preventDefault();
             alert('Thank you for your feedback! We appreciate it.');
             e.target.reset(); // Clear the form
             // In real app, send feedback data to server
         });

         // --- Account Action: Delete Account ---
         document.querySelector('.delete-account-btn').addEventListener('click', () => {
             if (confirm('WARNING: Are you absolutely sure you want to permanently delete your account? This action cannot be undone.')) {
                 alert('Account deletion process initiated. You will receive an email shortly.');
                 // In a real application, you would log the user out and redirect,
                 // and handle the actual deletion on the server side.
                 window.location.href = 'index.html'; // Redirect to home or login after "deletion"
             }
         });
         
         // Initial load: show the "Edit Profile" section by default
         showSection('edit-profile-section');
    // --- Chat Bot Functionality ---
    const chatIconWrapper = document.getElementById('chat-icon-wrapper');
    const chatIcon = document.getElementById('chat-icon');
    const chatWindow = document.getElementById('chat-window');
    const chatCloseBtn = document.getElementById('chat-close-btn');
    const chatMessages = document.getElementById('chat-messages');
    const userInput = document.getElementById('user-input');
    const sendButton = document.getElementById('send-button');

    let isChatOpen = false;

    // Function to toggle chat window visibility
    function toggleChat() {
        isChatOpen = !isChatOpen;
        chatWindow.classList.toggle('open', isChatOpen);
        chatWindow.setAttribute('aria-hidden', !isChatOpen);
        chatIconWrapper.style.display = isChatOpen ? 'none' : 'block'; // Hide icon when chat is open

        if (isChatOpen) {
            userInput.focus();
            // Add initial bot message if chat is just opened and messages are empty
            if (chatMessages.children.length === 0) {
                appendBotMessage("Hello! I'm your Grostore AI assistant. How can I help you today?");
                appendBotMessage("You can ask me about: 'order status', 'shipping', 'returns', 'products', or 'contact'.");
            }
            scrollToBottom();
        } else {
            // Restore icon visibility when chat closes, after transition
            setTimeout(() => {
                chatIconWrapper.style.display = 'block';
            }, 300); // Match CSS transition duration
        }
        // Optionally prevent body scroll if chat window is large
        document.body.classList.toggle('no-scroll', isChatOpen && window.innerWidth <= 768);
    }

    // Function to append a message to the chat
    function appendMessage(sender, text) {
        const messageDiv = document.createElement('div');
        messageDiv.classList.add('chat-message', `${sender}-message`);
        messageDiv.textContent = text;
        chatMessages.appendChild(messageDiv);
        scrollToBottom();
    }

    // Function to show a typing indicator
    function showTypingIndicator() {
        const typingDiv = document.createElement('div');
        typingDiv.classList.add('chat-message', 'bot-typing');
        typingDiv.innerHTML = '<span></span><span></span><span></span>';
        chatMessages.appendChild(typingDiv);
        scrollToBottom();
        return typingDiv;
    }

    // Function to remove the typing indicator
    function removeTypingIndicator(indicator) {
        if (indicator && indicator.parentNode) {
            indicator.parentNode.removeChild(indicator);
        }
    }

    // Function to simulate bot response
    function getBotResponse(userMessage) {
        const lowerCaseMessage = userMessage.toLowerCase();
        let botResponse = "I'm sorry, I don't understand that request. Can you please rephrase or ask about topics like 'order status', 'shipping', 'returns', 'products', or 'contact'?";
        const typingIndicator = showTypingIndicator();

        setTimeout(() => { // Simulate AI processing time
            removeTypingIndicator(typingIndicator);

            if (lowerCaseMessage.includes("hello") || lowerCaseMessage.includes("hi")) {
                botResponse = "Hello there! How can I assist you with your Grostore experience?";
            } else if (lowerCaseMessage.includes("order status") || lowerCaseMessage.includes("track order")) {
                botResponse = "To track your order, please provide your order ID. You can also visit our <a href='delivery-status.html' target='_blank'>Order Tracking page</a>.";
            } else if (lowerCaseMessage.includes("shipping") || lowerCaseMessage.includes("delivery")) {
                botResponse = "Our standard shipping takes 3-5 business days. For more details on delivery zones and costs, please check our <a href='#' target='_blank'>Shipping Policy</a>.";
            } else if (lowerCaseMessage.includes("return") || lowerCaseMessage.includes("refund")) {
                botResponse = "For returns or refunds, please visit our <a href='#' target='_blank'>Returns & Exchange page</a>. Make sure to check our policy requirements.";
            } else if (lowerCaseMessage.includes("products") || lowerCaseMessage.includes("items") || lowerCaseMessage.includes("shop")) {
                botResponse = "We offer a wide range of organic groceries, fresh produce, and household essentials. You can explore our categories on the <a href='index.html' target='_blank'>Products page</a>!";
            } else if (lowerCaseMessage.includes("contact") || lowerCaseMessage.includes("support")) {
                botResponse = "You can reach our customer support team via email at groshop@support.com or by calling +80 157 058 4567 during business hours.";
            } else if (lowerCaseMessage.includes("thank you") || lowerCaseMessage.includes("thanks")) {
                botResponse = "You're welcome! Is there anything else I can help you with?";
            }

            // Append bot's response. Using innerHTML for links.
            const botMessageDiv = document.createElement('div');
            botMessageDiv.classList.add('chat-message', 'bot-message');
            botMessageDiv.innerHTML = botResponse; // Use innerHTML for text with links
            chatMessages.appendChild(botMessageDiv);
            scrollToBottom();

        }, 1000 + Math.random() * 1000); // Simulate 1-2 seconds response time
    }

    // Function to handle sending user messages
    function sendMessage() {
        const userText = userInput.value.trim();
        if (userText === "") return;

        appendMessage('user', userText);
        userInput.value = ''; // Clear input field
        getBotResponse(userText);
    }

    // Function to scroll chat messages to the bottom
    function scrollToBottom() {
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    // Event Listeners
    chatIcon.addEventListener('click', toggleChat);
    chatCloseBtn.addEventListener('click', toggleChat);
    sendButton.addEventListener('click', sendMessage);
    userInput.addEventListener('keypress', (event) => {
        if (event.key === 'Enter') {
            sendMessage();
        }
    });

    // Optional: Hide chat window on initial load for desktop, only icon visible
    document.addEventListener('DOMContentLoaded', () => {
        if (window.innerWidth > 768) { // Only on larger screens
            chatWindow.classList.remove('open');
            chatWindow.setAttribute('aria-hidden', 'true');
            chatIconWrapper.style.display = 'block';
        } else { // On mobile, if chat window is open by default, hide icon
            if (isChatOpen) { // isChatOpen would be false initially, so icon shows
                chatIconWrapper.style.display = 'none';
            }
        }
    });

</script>
   </body>
</html>